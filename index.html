<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíå Birthday Letter Surprise</title>
<style>
/* ---------- Reset & Base ---------- */
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family:'serif',sans-serif;
  background: linear-gradient(135deg,#FFD700 0%,#1E90FF 100%);
  min-height:100vh; display:flex; justify-content:center; align-items:center;
  padding:20px; overflow-x:hidden;
}

/* ---------- Container ---------- */
.container {
  max-width:550px; width:100%; text-align:center;
  display:flex; flex-direction:column; align-items:center; gap:20px;
}

/* ---------- Letter Envelope ---------- */
.envelope {
  background:#fdf7ec; border:1px solid #ccc; border-radius:8px; padding:30px;
  position:relative; overflow:hidden; box-shadow:0 8px 20px rgba(0,0,0,0.2);
  transform-style: preserve-3d; transform-origin: top center;
  transition: transform 1s ease;
}
.envelope.open { transform: rotateX(-180deg); }

/* ---------- Puzzle Section ---------- */
.lock-icon { font-size:3em; margin-bottom:10px; }
h1 { color:#333; font-size:1.8em; margin-bottom:10px; }
p { color:#444; line-height:1.5; margin-bottom:20px; }
.puzzle-question { background:#f7f7f7; padding:15px; border-radius:6px; font-size:1.05em; color:#333; }
.hint { font-size:0.85em; color:#888; margin-top:8px; font-style:italic; }
input { width:100%; padding:10px; margin:12px 0; border:2px solid #888; border-radius:6px; font-size:1em; transition:border-color 0.3s; }
input:focus { outline:none; border-color:#555; }
button { width:100%; padding:10px; background:#555; color:#fff; border:none; border-radius:6px; font-size:1em; cursor:pointer; transition:transform 0.2s, box-shadow 0.2s; }
button:hover { transform:translateY(-2px); box-shadow:0 4px 12px rgba(0,0,0,0.2); }
button:active { transform:translateY(0); }
.error { color:#e74c3c; margin-top:8px; display:none; }

/* ---------- Letter Reveal ---------- */
#letter { display:none; background:#fdf7ec; padding:20px; border-radius:8px; box-shadow:0 8px 20px rgba(0,0,0,0.2); }
.congratulations { font-size:2em; margin-bottom:15px; }
#imageContainer { margin-top:20px; }
.letter-image { max-width:100%; margin:10px 0; border-radius:6px; box-shadow:0 4px 8px rgba(0,0,0,0.1); opacity:0; transform:scale(0.6) rotate(-8deg); animation:polaroidDrop 1.2s ease forwards; transition: transform 0.4s ease, box-shadow 0.4s ease; }
.letter-image:nth-child(odd){ transform:scale(0.6) rotate(6deg); }
.letter-image:hover{ transform:scale(1.05) rotate(0deg); box-shadow:0 20px 40px rgba(0,0,0,0.2); filter: drop-shadow(0 0 6px #fff); }
.letter-image:nth-child(1){ animation-delay:0.3s; }
.letter-image:nth-child(2){ animation-delay:1s; }
.letter-image:nth-child(3){ animation-delay:1.7s; }

/* ---------- Animations ---------- */
@keyframes polaroidDrop {0%{opacity:0;transform:scale(0.5) rotate(-15deg) translateY(-40px);}
60%{opacity:1;transform:scale(1.05) rotate(3deg) translateY(10px);}
100%{opacity:1;transform:scale(1) rotate(0deg) translateY(0);}}
@keyframes sparkleFloat {0%{transform:translateY(0) scale(0.6); opacity:0.8;}
50%{opacity:1;}
100%{transform:translateY(-100vh) scale(1); opacity:0;}}

/* ---------- Sparkles ---------- */
.sparkle { position:fixed; width:3px; height:3px; background:white; border-radius:50%; pointer-events:none; opacity:0.8; animation:sparkleFloat 4s linear forwards; }
</style>
</head>
<body>
<div class="container">

  <div class="envelope" id="envelope">
    <div id="puzzle">
      <div class="lock-icon">üíå</div>
      <h1>Hope it makes you giggle x</h1>
      <p>Sincere apologies that this can't compare to the joy of eating too many fresh chole bhature or a chilly kingfisher! üçª</p>

      <div class="puzzle-section">
        <div class="puzzle-question">
          <strong>Do you remember what I was wearing when we first met?</strong>
          <div class="hint"> üòè</div>
        </div>

        <input type="text" id="answerInput" placeholder="Enter your answer" autocomplete="off">
        <button onclick="checkAnswer()"> Unlock üíå</button>
        <div class="error" id="error">‚ùå Nope! Think again... üòâ</div>
      </div>
    </div>
  </div>

  <div id="letter">
    <div class="congratulations">‚ú®</div>
    <h2>Can't believe you got it!</h2>
    <p>If you can't read this, you know obviously where to find me üòò</p>
    <div id="imageContainer"></div>
  </div>
</div>

<script>
// Accepted answers
const correctAnswers = ["white tshirt","white t-shirt","tshirt","t-shirt"];

function checkAnswer(){
  const input = document.getElementById('answerInput').value.trim().toLowerCase().replace(/\s+/g,' ');
  const isCorrect = correctAnswers.some(ans=>input.includes(ans));

  if(isCorrect){
    document.getElementById('envelope').classList.add('open');
    setTimeout(()=>{
      document.getElementById('puzzle').style.display='none';
      document.getElementById('letter').style.display='block';
      loadImages();
      createSparkles();
    },1000); // wait for fold animation
  } else {
    const errorMsg=document.getElementById('error');
    errorMsg.style.display='block';
    document.getElementById('answerInput').value='';
    document.getElementById('answerInput').focus();
  }
}

function loadImages(){
  const images=['letter-1.jpg','letter-2.jpg','letter-3.jpg'];
  const container=document.getElementById('imageContainer');
  container.innerHTML='';
  images.forEach(src=>{
    const img=document.createElement('img');
    img.src=src; img.alt='letter-image'; img.className='letter-image';
    img.onerror=()=>img.style.display='none';
    container.appendChild(img);
  });
}

document.getElementById('answerInput').addEventListener('keypress',e=>{
  if(e.key==='Enter') checkAnswer();
});

// Sparkles
function createSparkles(){
  for(let i=0;i<30;i++){
    const s=document.createElement('div');
    s.className='sparkle';
    s.style.left=Math.random()*100+'vw';
    s.style.width=2+Math.random()*3+'px';
    s.style.height=s.style.width;
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),4000);
  }
}
</script>
</body>
</html>


